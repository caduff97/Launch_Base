{% extends "layout.njk" %}

{% block content %}

    <section class="container form">
        <form method="post" action="/products?_method=PUT" enctype="multipart/form-data">

            <div class="header">
                <h3>Editar Produto {{productId}}</h3>
            </div>

            <div class="fields">
                {% include "products/fields.njk" %}
                <input 
                    type="hidden"
                    name="id"
                    value="{{ product.id }}"
                >
            </div>

            <button class="button edit" type="submit">Atualizar</button>

        </form>

        <form id="form-delete" method="post" action="/products?_method=DELETE">
            <input type="hidden" name="id" value="{{ product.id }}">
            <button class="button delete" type="submit" onclick="confirmation.delete(event)">Deletar</button>
        </form>
    </section>

    <script>
        const confirmation = {
            delete(e) {
                const confirmation = confirm("Deseja deletar?")
                if(!confirmation) e.preventDefault()
            }
        }
    </script>

{% endblock content %}